import{j as e,h as s,D as t,v as a,U as l,r,F as i,J as n,K as c,N as d,O as o,k as x,x as m,Q as h,Y as b,g as u,P as p}from"./ui-vendor-BXVz6hC9.js";import{a as g}from"./react-vendor-N3uaRP_J.js";import{u as j,B as f}from"./index-D8RjTRIl.js";import{g as N,u as v,c as w,d as y,e as F,f as C,h as k}from"./blogService-jCKtlAAr.js";import{o as S,q as P,c as L,b as E,l as z,g as I,d as T,e as D}from"./firebase-BOKyl3KT.js";import{d as B,a as M}from"./firebase-BS6BjUNz.js";import{M as H,r as q}from"./markdown-D0LGahJO.js";const A=()=>{const{t:A,language:R}=j(),[U,O]=g.useState(null),[W,$]=g.useState(!0),[G,J]=g.useState("blogs"),[Y,K]=g.useState(""),[Q,V]=g.useState(""),[X,Z]=g.useState(""),[_,ee]=g.useState(!1),[se,te]=g.useState([]),[ae,le]=g.useState([]),[re,ie]=g.useState(!1),[ne,ce]=g.useState(null),[de,oe]=g.useState({en:!1,he:!1}),[xe,me]=g.useState({title:{en:"",he:""},content:{en:"",he:""},excerpt:{en:"",he:""},tags:[],published:!1,featuredImage:"",seo:{metaTitle:{en:"",he:""},metaDescription:{en:"",he:""}}}),[he,be]=g.useState(!1),[ue,pe]=g.useState(!1),[ge,je]=g.useState(""),[fe,Ne]=g.useState("");g.useEffect(()=>{const e=S(M,e=>{O(e),$(!1)});return()=>e()},[]),g.useEffect(()=>{U&&(we(),ye())},[U]);const ve=async e=>{e.preventDefault(),ee(!0),Z("");try{await T(M,Y,Q)}catch(s){Z("Invalid credentials. Please try again.")}finally{ee(!1)}},we=async()=>{try{const e=await N({published:void 0,limit:50});te(e.posts)}catch(e){alert("Error loading blogs. Please check your connection and try again.")}},ye=async()=>{try{const e=P(L(B,"contacts"),E("timestamp","desc"),z(100)),s=(await I(e)).docs.map(e=>({id:e.id,...e.data()}));le(s)}catch(e){alert("Error loading contacts. Please check your connection and try again.")}},Fe=()=>{me({title:{en:"",he:""},content:{en:"",he:""},excerpt:{en:"",he:""},tags:[],published:!1,featuredImage:"",seo:{metaTitle:{en:"",he:""},metaDescription:{en:"",he:""}}}),ce(null)},Ce=(e,s=1200,t=800,a=.8)=>new Promise((l,r)=>{const i=document.createElement("canvas"),n=i.getContext("2d"),c=new Image;c.onload=()=>{let{width:d,height:o}=c;if(d>s||o>t){const e=Math.min(s/d,t/o);d*=e,o*=e}i.width=d,i.height=o,null==n||n.drawImage(c,0,0,d,o),i.toBlob(s=>{if(s){const t=e.name.replace(/\.[^/.]+$/,""),a=new File([s],`${t}.webp`,{type:"image/webp",lastModified:Date.now()});l(a)}else r(new Error("Failed to process image"))},"image/webp",a)},c.onerror=()=>{r(new Error("Failed to load image"))},c.src=URL.createObjectURL(e)}),ke=e=>{if(!e)return"";const s=e.toDate?e.toDate():new Date(e);return s.toLocaleDateString()+" "+s.toLocaleTimeString()},Se=se.filter(e=>e.title.en.toLowerCase().includes(ge.toLowerCase())||e.title.he.toLowerCase().includes(ge.toLowerCase())||e.tags.some(e=>e.toLowerCase().includes(ge.toLowerCase()))),Pe=ae.filter(e=>{var s;return e.name.toLowerCase().includes(fe.toLowerCase())||e.email.toLowerCase().includes(fe.toLowerCase())||(null==(s=e.company)?void 0:s.toLowerCase().includes(fe.toLowerCase()))});return W?e.jsx("div",{className:"min-h-screen bg-[#FBFCFF] flex items-center justify-center",children:e.jsx(s,{className:"w-8 h-8 animate-spin text-[#389CFF]"})}):U?e.jsx("div",{className:"min-h-screen bg-[#FBFCFF]",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8 mt-20",children:[e.jsx("h1",{className:"text-3xl font-bold text-black",children:"Admin Dashboard"}),e.jsxs(f,{onClick:async()=>{try{await D(M)}catch(e){}},variant:"outline",children:[e.jsx(t,{className:"w-4 h-4 mr-2"}),"Logout"]})]}),e.jsxs("div",{className:"flex space-x-1 mb-8",children:[e.jsxs("button",{onClick:()=>J("blogs"),className:"px-6 py-3 rounded-lg font-medium transition-colors "+("blogs"===G?"bg-[#389CFF] text-white":"bg-white border border-[#d8dfe5] text-[#64646e] hover:border-[#389CFF]"),children:[e.jsx(a,{className:"w-4 h-4 inline mr-2"}),"Blogs (",se.length,")"]}),e.jsxs("button",{onClick:()=>J("contacts"),className:"px-6 py-3 rounded-lg font-medium transition-colors "+("contacts"===G?"bg-[#389CFF] text-white":"bg-white border border-[#d8dfe5] text-[#64646e] hover:border-[#389CFF]"),children:[e.jsx(l,{className:"w-4 h-4 inline mr-2"}),"Contacts (",ae.length,")"]})]}),"blogs"===G&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("div",{className:"relative",children:[e.jsx(r,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-[#64646e]"}),e.jsx("input",{type:"text",placeholder:"Search blogs...",value:ge,onChange:e=>je(e.target.value),className:"pl-10 pr-4 py-2 rounded-lg border border-[#d8dfe5] bg-white text-black focus:outline-none focus:ring-2 focus:ring-[#389CFF] focus:border-transparent"})]})}),e.jsxs(f,{onClick:()=>{Fe(),ie(!0)},variant:"cta-primary",children:[e.jsx(i,{className:"w-4 h-4 mr-2"}),"New Blog Post"]})]}),re&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"max-w-4xl w-full max-h-[90vh] overflow-y-auto",style:{backgroundColor:"rgb(246, 251, 255)",borderRadius:"16px"},children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-black",children:ne?"Edit Blog Post":"Create New Blog Post"}),e.jsx("button",{onClick:()=>ie(!1),className:"text-[#64646e] hover:text-black",children:"×"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-black mb-2",children:"Title (English)"}),e.jsx("input",{type:"text",value:xe.title.en,onChange:e=>me(s=>({...s,title:{...s.title,en:e.target.value}})),className:"w-full px-4 py-3 rounded-lg border border-[#d8dfe5] bg-white text-black focus:outline-none focus:ring-2 focus:ring-[#389CFF] focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-black mb-2",children:"Title (Hebrew)"}),e.jsx("input",{type:"text",value:xe.title.he,onChange:e=>me(s=>({...s,title:{...s.title,he:e.target.value}})),className:"w-full px-4 py-3 rounded-lg border border-[#d8dfe5] bg-white text-black focus:outline-none focus:ring-2 focus:ring-[#389CFF] focus:border-transparent"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-black mb-2",children:"Excerpt (English)"}),e.jsx("textarea",{value:xe.excerpt.en,onChange:e=>me(s=>({...s,excerpt:{...s.excerpt,en:e.target.value}})),rows:3,className:"w-full px-4 py-3 rounded-lg border border-[#d8dfe5] bg-white text-black focus:outline-none focus:ring-2 focus:ring-[#389CFF] focus:border-transparent resize-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-black mb-2",children:"Excerpt (Hebrew)"}),e.jsx("textarea",{value:xe.excerpt.he,onChange:e=>me(s=>({...s,excerpt:{...s.excerpt,he:e.target.value}})),rows:3,className:"w-full px-4 py-3 rounded-lg border border-[#d8dfe5] bg-white text-black focus:outline-none focus:ring-2 focus:ring-[#389CFF] focus:border-transparent resize-none"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-black",children:["Content (English)",e.jsx("span",{className:"text-xs text-[#64646e] ml-2",children:"(Line breaks will be preserved. HTML and Markdown supported.)"})]}),e.jsx("button",{type:"button",onClick:()=>oe(e=>({...e,en:!e.en})),className:"flex items-center gap-1 text-xs text-[#389CFF] hover:text-[#2980ff] transition-colors",children:de.en?e.jsxs(e.Fragment,{children:[e.jsx(n,{className:"w-3 h-3"}),"Edit"]}):e.jsxs(e.Fragment,{children:[e.jsx(c,{className:"w-3 h-3"}),"Preview"]})})]}),de.en?e.jsx("div",{className:"border border-[#d8dfe5] rounded-lg p-4 bg-white h-[260px] overflow-auto",children:e.jsx("div",{className:"prose prose-sm max-w-none prose-headings:text-[#161e2e] prose-a:text-[#389CFF]",children:e.jsx(H,{rehypePlugins:[q],components:{p:({children:s})=>e.jsx("p",{className:"mb-4 leading-relaxed",children:s}),h1:({children:s})=>e.jsx("h1",{className:"text-lg font-bold mb-3 mt-4 first:mt-0",children:s}),h2:({children:s})=>e.jsx("h2",{className:"text-base font-bold mb-2 mt-4 first:mt-0",children:s}),h3:({children:s})=>e.jsx("h3",{className:"text-sm font-bold mb-2 mt-3 first:mt-0",children:s}),ul:({children:s})=>e.jsx("ul",{className:"list-disc list-inside mb-4 space-y-1 ml-4",children:s}),ol:({children:s})=>e.jsx("ol",{className:"list-decimal list-inside mb-4 space-y-1 ml-4",children:s}),li:({children:s})=>e.jsx("li",{className:"leading-relaxed",children:s}),blockquote:({children:s})=>e.jsx("blockquote",{className:"border-l-2 border-[#389CFF] pl-2 italic my-3",children:s}),pre:({children:s})=>e.jsx("pre",{className:"bg-gray-100 rounded p-2 overflow-x-auto my-3 text-xs",children:s}),code:({children:s,className:t})=>!t?e.jsx("code",{className:"bg-gray-100 px-1 py-0.5 rounded text-xs",children:s}):e.jsx("code",{className:t,children:s})},children:xe.content.en||"*No content yet*"})})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-2 text-xs text-[#64646e] bg-gray-50 p-2 rounded",children:[e.jsx("p",{className:"mb-1",children:"Formatting tips:"}),e.jsxs("ul",{className:"list-disc pl-4 space-y-1",children:[e.jsxs("li",{children:[e.jsx("code",{children:"**bold text**"})," for ",e.jsx("strong",{children:"bold text"})]}),e.jsxs("li",{children:[e.jsx("code",{children:"*italic text*"})," for ",e.jsx("em",{children:"italic text"})]}),e.jsxs("li",{children:[e.jsx("code",{children:"# Heading 1"})," for headings"]}),e.jsxs("li",{children:[e.jsx("code",{children:"- item"})," for bullet lists"]}),e.jsxs("li",{children:[e.jsx("code",{children:"[link text](url)"})," for links"]})]})]}),e.jsx("textarea",{value:xe.content.en,onChange:e=>me(s=>({...s,content:{...s.content,en:e.target.value}})),rows:10,className:"w-full px-4 py-3 rounded-lg border border-[#d8dfe5] bg-white text-black focus:outline-none focus:ring-2 focus:ring-[#389CFF] focus:border-transparent resize-none font-mono"})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-black",children:["Content (Hebrew)",e.jsx("span",{className:"text-xs text-[#64646e] ml-2",children:"(Line breaks will be preserved. HTML and Markdown supported.)"})]}),e.jsx("button",{type:"button",onClick:()=>oe(e=>({...e,he:!e.he})),className:"flex items-center gap-1 text-xs text-[#389CFF] hover:text-[#2980ff] transition-colors",children:de.he?e.jsxs(e.Fragment,{children:[e.jsx(n,{className:"w-3 h-3"}),"Edit"]}):e.jsxs(e.Fragment,{children:[e.jsx(c,{className:"w-3 h-3"}),"Preview"]})})]}),de.he?e.jsx("div",{className:"border border-[#d8dfe5] rounded-lg p-4 bg-white h-[260px] overflow-auto",dir:"rtl",children:e.jsx("div",{className:"prose prose-sm max-w-none prose-headings:text-[#161e2e] prose-a:text-[#389CFF]",children:e.jsx(H,{rehypePlugins:[q],components:{p:({children:s})=>e.jsx("p",{className:"mb-4 leading-relaxed",children:s}),h1:({children:s})=>e.jsx("h1",{className:"text-lg font-bold mb-3 mt-4 first:mt-0",children:s}),h2:({children:s})=>e.jsx("h2",{className:"text-base font-bold mb-2 mt-4 first:mt-0",children:s}),h3:({children:s})=>e.jsx("h3",{className:"text-sm font-bold mb-2 mt-3 first:mt-0",children:s}),ul:({children:s})=>e.jsx("ul",{className:"list-disc list-inside mb-4 space-y-1 mr-4",children:s}),ol:({children:s})=>e.jsx("ol",{className:"list-decimal list-inside mb-4 space-y-1 mr-4",children:s}),li:({children:s})=>e.jsx("li",{className:"leading-relaxed",children:s}),blockquote:({children:s})=>e.jsx("blockquote",{className:"border-r-2 border-[#389CFF] pr-2 italic my-3",children:s}),pre:({children:s})=>e.jsx("pre",{className:"bg-gray-100 rounded p-2 overflow-x-auto my-3 text-xs",children:s}),code:({children:s,className:t})=>!t?e.jsx("code",{className:"bg-gray-100 px-1 py-0.5 rounded text-xs",children:s}):e.jsx("code",{className:t,children:s})},children:xe.content.he||"*אין תוכן עדיין*"})})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-2 text-xs text-[#64646e] bg-gray-50 p-2 rounded",children:[e.jsx("p",{className:"mb-1",children:"Formatting tips:"}),e.jsxs("ul",{className:"list-disc pl-4 space-y-1",children:[e.jsxs("li",{children:[e.jsx("code",{children:"**bold text**"})," for ",e.jsx("strong",{children:"bold text"})]}),e.jsxs("li",{children:[e.jsx("code",{children:"*italic text*"})," for ",e.jsx("em",{children:"italic text"})]}),e.jsxs("li",{children:[e.jsx("code",{children:"# Heading 1"})," for headings"]}),e.jsxs("li",{children:[e.jsx("code",{children:"- item"})," for bullet lists"]}),e.jsxs("li",{children:[e.jsx("code",{children:"[link text](url)"})," for links"]})]})]}),e.jsx("textarea",{value:xe.content.he,onChange:e=>me(s=>({...s,content:{...s.content,he:e.target.value}})),rows:10,className:"w-full px-4 py-3 rounded-lg border border-[#d8dfe5] bg-white text-black focus:outline-none focus:ring-2 focus:ring-[#389CFF] focus:border-transparent resize-none font-mono"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-black mb-2",children:"Tags (comma separated)"}),e.jsx("input",{type:"text",value:xe.tags.join(", "),onChange:e=>me(s=>({...s,tags:e.target.value.split(",").map(e=>e.trim()).filter(Boolean)})),className:"w-full px-4 py-3 rounded-lg border border-[#d8dfe5] bg-white text-black focus:outline-none focus:ring-2 focus:ring-[#389CFF] focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-black mb-2",children:"Featured Image"}),e.jsxs("div",{className:"mb-2 text-xs text-[#64646e] bg-gray-50 p-2 rounded",children:[e.jsx("p",{children:"📷 Images will be automatically optimized:"}),e.jsxs("ul",{className:"list-disc pl-4 mt-1 space-y-1",children:[e.jsx("li",{children:"Converted to WebP format for better compression"}),e.jsx("li",{children:"Resized to max 1200x800 pixels if larger"}),e.jsx("li",{children:"Compressed to reduce file size by 60-80%"}),e.jsx("li",{children:"Supports: JPEG, PNG, WebP (max 10MB)"})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("input",{type:"file",accept:"image/jpeg,image/jpg,image/png,image/webp",onChange:async e=>{var s;const t=null==(s=e.target.files)?void 0:s[0];if(t)if(U)if(t.type.startsWith("image/"))if(t.size>10485760)alert("Image file is too large. Please select an image smaller than 10MB.");else{pe(!0);try{let e=t;("image/webp"!==t.type||t.size>512e3)&&(e=await Ce(t,1200,800,.85));const s=(null==ne?void 0:ne.id)||"temp-"+Date.now(),a=await v(e,s);if(me(e=>({...e,featuredImage:a})),e.size<t.size){((t.size-e.size)/t.size*100).toFixed(1)}}catch(a){alert("Error uploading image. Please check your permissions and try again.")}finally{pe(!1)}}else alert("Please select a valid image file.");else alert("You must be logged in to upload images.")},className:"hidden",id:"image-upload"}),e.jsx("label",{htmlFor:"image-upload",className:"flex items-center gap-2 px-4 py-2 bg-white border border-[#d8dfe5] text-[#64646e] rounded-lg hover:border-[#389CFF] cursor-pointer transition-colors",children:ue?e.jsxs(e.Fragment,{children:[e.jsx(s,{className:"w-4 h-4 animate-spin"}),"Processing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(d,{className:"w-4 h-4"}),"Upload & Optimize Image"]})}),xe.featuredImage&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("img",{src:xe.featuredImage,alt:"Featured",className:"h-16 w-16 object-cover rounded-lg border border-[#d8dfe5]"}),e.jsxs("div",{className:"text-xs text-[#64646e]",children:[e.jsx("div",{children:"✅ Optimized WebP"}),e.jsx("button",{type:"button",onClick:()=>me(e=>({...e,featuredImage:""})),className:"text-red-500 hover:text-red-700 mt-1",children:"Remove"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-black mb-2",children:"Meta Title (English)"}),e.jsx("input",{type:"text",value:xe.seo.metaTitle.en,onChange:e=>me(s=>({...s,seo:{...s.seo,metaTitle:{...s.seo.metaTitle,en:e.target.value}}})),className:"w-full px-4 py-3 rounded-lg border border-[#d8dfe5] bg-white text-black focus:outline-none focus:ring-2 focus:ring-[#389CFF] focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-black mb-2",children:"Meta Title (Hebrew)"}),e.jsx("input",{type:"text",value:xe.seo.metaTitle.he,onChange:e=>me(s=>({...s,seo:{...s.seo,metaTitle:{...s.seo.metaTitle,he:e.target.value}}})),className:"w-full px-4 py-3 rounded-lg border border-[#d8dfe5] bg-white text-black focus:outline-none focus:ring-2 focus:ring-[#389CFF] focus:border-transparent"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"checkbox",id:"published",checked:xe.published,onChange:e=>me(s=>({...s,published:e.target.checked})),className:"w-4 h-4 text-[#389CFF] rounded focus:ring-[#389CFF]"}),e.jsx("label",{htmlFor:"published",className:"text-sm font-medium text-black",children:"Publish immediately"})]}),e.jsxs("div",{className:"flex items-center gap-4 pt-4 border-t border-[#d8dfe5]",children:[e.jsx(f,{onClick:async()=>{be(!0);try{const e=w(xe.title.en),s=xe.title.he?w(xe.title.he):e,t={...xe,slug:{en:e,he:s},readTime:{en:y(xe.content.en),he:y(xe.content.he)},author:{name:(null==U?void 0:U.email)||"Admin",email:(null==U?void 0:U.email)||""},publishedAt:xe.published?new Date:null};ne?(xe.published&&!ne.published&&(t.publishedAt=new Date),await F(ne.id,t)):await C(t),await we(),ie(!1),Fe()}catch(e){alert("Error saving blog post. Please try again.")}finally{be(!1)}},disabled:he,variant:"cta-primary",children:he?e.jsxs(e.Fragment,{children:[e.jsx(s,{className:"w-4 h-4 animate-spin mr-2"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(o,{className:"w-4 h-4 mr-2"}),ne?"Update":"Create"," Blog Post"]})}),e.jsx(f,{onClick:()=>ie(!1),variant:"outline",children:"Cancel"})]})]})]})})}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[Se.map(s=>e.jsx("div",{className:"p-6 bg-white rounded-xl border border-[#d8dfe5] hover:border-[#389CFF] transition-colors",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-black",children:s.title[R]}),e.jsx("span",{className:"px-2 py-1 rounded-full text-xs "+(s.published?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:s.published?"Published":"Draft"})]}),e.jsx("p",{className:"text-[#64646e] text-sm mb-3 line-clamp-2",children:s.excerpt[R]}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-[#64646e]",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(x,{className:"w-3 h-3"}),ke(s.updatedAt)]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(m,{className:"w-3 h-3"}),s.tags.slice(0,3).join(", ")]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[e.jsx("button",{onClick:()=>(e=>{me({title:e.title,content:e.content,excerpt:e.excerpt,tags:e.tags,published:e.published,featuredImage:e.featuredImage||"",seo:e.seo}),ce(e),ie(!0)})(s),className:"p-2 text-[#64646e] hover:text-[#389CFF] transition-colors",title:"Edit",children:e.jsx(h,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>(async e=>{if(confirm("Are you sure you want to delete this blog post?"))try{await k(e),await we()}catch(s){}})(s.id),className:"p-2 text-[#64646e] hover:text-red-500 transition-colors",title:"Delete",children:e.jsx(b,{className:"w-4 h-4"})})]})]})},s.id)),0===Se.length&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(a,{className:"w-16 h-16 text-[#64646e] mx-auto mb-4 opacity-50"}),e.jsx("h3",{className:"text-lg font-semibold text-black mb-2",children:"No blog posts found"}),e.jsx("p",{className:"text-[#64646e]",children:"Create your first blog post to get started."})]})]})]}),"contacts"===G&&e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center gap-4 mb-6",children:e.jsxs("div",{className:"relative",children:[e.jsx(r,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-[#64646e]"}),e.jsx("input",{type:"text",placeholder:"Search contacts...",value:fe,onChange:e=>Ne(e.target.value),className:"pl-10 pr-4 py-2 rounded-lg border border-[#d8dfe5] bg-white text-black focus:outline-none focus:ring-2 focus:ring-[#389CFF] focus:border-transparent"})]})}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[Pe.map(s=>e.jsx("div",{className:"p-6 bg-white rounded-xl border border-[#d8dfe5] hover:border-[#389CFF] transition-colors",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-black",children:s.name}),e.jsx("span",{className:"px-2 py-1 rounded-full text-xs "+("new"===s.status?"bg-blue-100 text-blue-800":"contacted"===s.status?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"),children:s.status})]}),e.jsxs("div",{className:"space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-[#64646e]",children:[e.jsx(u,{className:"w-4 h-4"}),e.jsx("a",{href:`mailto:${s.email}`,className:"hover:text-[#389CFF]",children:s.email})]}),s.phone&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-[#64646e]",children:[e.jsx(p,{className:"w-4 h-4"}),e.jsx("a",{href:`tel:${s.phone}`,className:"hover:text-[#389CFF]",children:s.phone})]}),s.company&&e.jsxs("div",{className:"text-sm text-[#64646e]",children:[e.jsx("strong",{children:"Company:"})," ",s.company]}),s.service&&e.jsxs("div",{className:"text-sm text-[#64646e]",children:[e.jsx("strong",{children:"Service:"})," ",s.service]})]}),e.jsx("div",{className:"bg-gray-50 p-3 rounded-lg mb-3",children:e.jsx("p",{className:"text-sm text-[#64646e]",children:s.message})}),e.jsxs("div",{className:"text-xs text-[#64646e]",children:[e.jsx(x,{className:"w-3 h-3 inline mr-1"}),ke(s.timestamp)]})]})})},s.id)),0===Pe.length&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(l,{className:"w-16 h-16 text-[#64646e] mx-auto mb-4 opacity-50"}),e.jsx("h3",{className:"text-lg font-semibold text-black mb-2",children:"No contacts found"}),e.jsx("p",{className:"text-[#64646e]",children:"Contact submissions will appear here."})]})]})]})]})}):e.jsx("div",{className:"min-h-screen bg-[#FBFCFF] flex items-center justify-center",children:e.jsx("div",{className:"max-w-md w-full mx-4",children:e.jsxs("div",{className:"p-8",style:{backgroundColor:"rgb(246, 251, 255)",borderRadius:"16px",boxShadow:"rgba(16, 49, 77, 0.05) 0px 0.706592px 0.706592px -0.291667px, rgba(16, 49, 77, 0.06) 0px 1.80656px 1.80656px -0.583333px, rgba(16, 49, 77, 0.06) 0px 3.62176px 3.62176px -0.875px, rgba(16, 49, 77, 0.06) 0px 6.8656px 6.8656px -1.16667px, rgba(16, 49, 77, 0.07) 0px 13.6468px 13.6468px -1.45833px, rgba(16, 49, 77, 0.1) 0px 30px 30px -1.75px"},children:[e.jsx("h1",{className:"text-2xl font-bold text-black mb-6 text-center",children:"Admin Login"}),e.jsxs("form",{onSubmit:ve,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-black mb-2",children:"Email"}),e.jsx("input",{type:"email",value:Y,onChange:e=>K(e.target.value),required:!0,className:"w-full px-4 py-3 rounded-lg border border-[#d8dfe5] bg-white text-black focus:outline-none focus:ring-2 focus:ring-[#389CFF] focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-black mb-2",children:"Password"}),e.jsx("input",{type:"password",value:Q,onChange:e=>V(e.target.value),required:!0,className:"w-full px-4 py-3 rounded-lg border border-[#d8dfe5] bg-white text-black focus:outline-none focus:ring-2 focus:ring-[#389CFF] focus:border-transparent"})]}),X&&e.jsx("div",{className:"text-red-600 text-sm text-center",children:X}),e.jsx(f,{type:"submit",variant:"cta-primary",size:"cta",className:"w-full",disabled:_,children:_?e.jsxs(e.Fragment,{children:[e.jsx(s,{className:"w-4 h-4 animate-spin mr-2"}),"Signing In..."]}):"Sign In"})]})]})})})};export{A as default};
